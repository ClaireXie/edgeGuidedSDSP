clc;clear;
%close all;

addpath('mainCode/');

% parameters to change
%----------------%
names{1}='cones';
scaleFact = 4;
%----------------%
global window sigma_d;

if matlabpool('size') == 0
    matlabpool open local 2
end

w1=10;
%w2=0;   %only consider the data term
w2=1; %for distance transform
%w2=1;

localSize=1;  %1
window=5;
sigma_d=0.5;

scale=4;
threshold=0.08;

inputFile=names{1};
fprintf(['runnning image ',inputFile,'\n']);
[highres,edges]=mrfLearning(names, 1, w1, w2, localSize, scale, threshold);

% run evaluation

border=10;
runEvaluation(inputFile, scale, highres, edges, scaleFact, border, threshold,0);


