% the total script
clc;clear;

addpath('mainCode/');

names=cell(4);
names{1}='cones';
names{2}='teddy';
names{3}='tsukuba';
names{4}='venus';
names{5}='11_250';
names{6}='scan042_cave_statue_smNN';

global window sigma_d;
window=7;
sigma_d=0.5;
w1=10;
localSize=1;  %1

scale=4;
threshold=[0.08, 0.1, 0.1, 0.1 0.05, 0.05];

% run the code for each image
for i=2:4
    
    if (i==1 || i==2)
        scaleFact = 4;
    elseif (i==3)
        scaleFact = 16;
    elseif (i==4)
        scaleFact = 8;
    end
    
    inputFile=names{i};
    fprintf(['runnning image ',names{i},'\n']);
    highres{i}=mrfLearning(names, i, w1, localSize, scale, threshold(i));
    
    border=2*window;
    offset=0;
    runEvaluation(inputFile, scale, highres{i}, scaleFact, border, offset);
end
